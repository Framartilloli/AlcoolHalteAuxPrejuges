<!DOCTYPE html>
<html lang="en">

<head>
    <!--script>
  	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
       	ga('create', 'UA-97218115-1', 'auto');
    	ga('send', 'pageview');
    </script-->
    <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-97196563-1', 'auto');
	  ga('send', 'pageview');

    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.6.0/d3.js"></script>

			<!-- Bootstrap Core CSS -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
    <link href='https://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css' rel='stylesheet' type='text/css'>
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/style.css" >
	<link rel="stylesheet" href="css/skel.css" >


	<script src='js/lib/highlight.pack.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>

	<link rel='stylesheet' href='style.css'>
    <title>L'alcool : Halte aux préjugés !</title>

	    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/business-casual.css" rel="stylesheet">


	    <!-- Fonts -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
    <!--<link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Slab:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic" rel="stylesheet" type="text/css">
	-->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link href='dist/metricsgraphics.css' rel='stylesheet' type='text/css'>
    <link href='css/metricsgraphics-demo.css' rel='stylesheet' type='text/css' id='light'>
    <link href='css/highlightjs-default.css' rel='stylesheet' type='text/css' id='light-code'>
    <link href='' rel='stylesheet' type='text/css' id='dark-code'>

    <!-- dependance pour le vertical bar chart-->
    <link href="build/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js" charset="utf-8"></script>
    <script src="build/nv.d3.js"></script>
   <!-- fin dependance pour le vertical bar chart-->

    <script src='js/lib/highlight.pack.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>

    <!-- dev start -->
    <script src='src/js/MG.js'></script>
    <script src='src/js/misc/utility.js'></script>
    <script src='src/js/common/data_graphic.js'></script>
    <script src='src/js/common/hooks.js'></script>
    <script src='src/js/common/register.js'></script>
    <script src='src/js/common/bootstrap_tooltip_popover.js'></script>
    <script src='src/js/common/scales.js'></script>
    <script src='src/js/common/chart_title.js'></script>
    <script src='src/js/common/y_axis.js'></script>
    <script src='src/js/common/x_axis.js'></script>
    <script src='src/js/common/scales.js'></script>
    <script src='src/js/common/init.js'></script>
    <script src='src/js/common/markers.js'></script>
    <script src='src/js/common/rollover.js'></script>
    <script src='src/js/common/window_listeners.js'></script>
    <script src='src/js/layout/bootstrap_dropdown.js'></script>
    <script src='src/js/layout/button.js'></script>
    <script src='src/js/charts/line.js'></script>
    <script src='src/js/charts/histogram.js'></script>
    <script src='src/js/charts/point.js'></script>
    <script src='src/js/charts/bar.js'></script>
    <script src='src/js/charts/table.js'></script>
    <script src='src/js/charts/missing.js'></script>
    <script src='src/js/misc/process.js'></script>
    <script src='src/js/misc/smoothers.js'></script>
    <script src='src/js/misc/formatters.js'></script>
    <script src='src/js/misc/transitions.js'></script>
    <script src='src/js/misc/error.js'></script>
    <!-- dev end -->

    <!-- style pour le vertical bar chart-->
    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #chart1, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
    </style>

</head>

<body>
<br>
<br>
<br>


  <div class="brand">L'alcool : Halte aux préjugés !</div>
   <!--      <div class="address-bar">3481 Melrose Place | Beverly Hills, CA 90210 | 123.456.7890</div>       -->
<br>
<br><br>
<br><br>


   <!-- Introduction -->
   <div class="container">
     <div class="box">
			<hr>
 				<h1 class="intro-text text-center">
 					<strong>On a tous des préjugés sur l'alcool : sont-ils tous vrais ?</strong>
 				</h1>
				<hr>
				<center>
				<img  align="middle" src="img/imgintro.png" width ="500px" height="340px" >
				</center>

			<div class="commentaires" align="middle">
			<p><strong> Rien de moins sûr :</strong>
			Lisez la suite !<p>
			</div>

	</div>
   </div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>



	<!-- /.Box n°1 -->
		<!-- /.Scatter plot Jolie -->
	<div class="container">
		<div class="box">
			<hr>
				<h2 class="intro-text text-center">l'alcool tue lentement...:
					<strong>ça tombe bien on n'est pas pressé !</strong>
				</h2>
			<hr>

			<svg width="1000" height"600" viewBox="0 0 1000 600" id="scatter-size-and-color" ></svg>
			<br>
			<div class="commentaires" align="middle">
			<p>N'avez vous jamais entendu "l'alcool c'est mauvais tu finiras par avoir une cirrhose" ?<p>
			<p>On vous rassure, au niveau mondial <strong> l'espérance de vie est la plus élevée là où la consommation d'alcool est aussi la plus élevée.</strong> Coïncidence ?<p>
			<p><strong> Conclusion :</strong>
			Buvez avec modération, sauf quand il s'agit de boire nos paroles !<p>
			</div>
        </div>
	</div>

  <!-- /.Box n°4 vertical bar chart -->
    <div class="container">
    <div class="box">
      <hr>
        <h2 class="intro-text text-center">Mais c'est quand même dangereux :
          <strong>L'alcool c'est pas de l'eau !</strong>
        </h2>
      <hr>
      <center>
        <div>
          <iframe frameborder=0 width="1000" height="600" viewBox="0 0 1000 600" class="data_wrapper-chart" src="charts/dangerosite.html" ></iframe>
        </div>
      </center>

      <div class="commentaires" align="middle">
      <br>
      <p><strong> "La drogue a fait 100 morts en France l'année dernière, l'alcool 50 000 ! Choisis ton camp camarade". (Coluche) </strong><p>
      <p> <p>
      Selon <strong>plusieurs études sérieuses (OMS, ministère de la santé du Royaume-Uni) </strong>l'alcool est systématiquement classé
      parmi les 3 psychotropes les plus dangereux. Il se classe globalement au <strong>même niveau de dangerosité que l'héroine et le crack </strong>
      parmi les études relevées. Une de ces études a créé un système de notes en affectant un score de dangerosité aux drogues mais aussi à l'alcool.
      Cette note recouvre la "dangerosité pour soi-même" + "la dangerosité pour autrui".
      <p><strong>L'alcool ressort comme substance la plus dangereuse avec un score global de 72.</strong><p>

      </div>
        </div>
  </div>

	<!-- /.Box n°2 -->
		<!-- /.Scatter plot Jolie -->
	<div class="container">
		<div class="box">
			<hr>
				<h2 class="intro-text text-center">Et la religion dans tout ça ?
					<strong>Allah tienne !</strong>
				</h2>
			<hr>

			<svg width="1100" height"600" viewBox="0 0 1100 600" id="scatter2-size-and-color" ></svg>
			<div class="commentaires" align="middle">
			<br>
				<p>La religion musulmane et la consommation d'alcool c'est un peu comme un divorce non ?<p>
				<p> Pas vraiment, de nombreux pays à dominante musulmane ne rechignent pas devant un petit plaisir liquoreux.<p>
				<p><strong>On constate que le nombre de consommateurs d'alcool réguliers dans ces pays n'a rien à envier aux piliers de bars européens.</strong>
			</div>
        </div>
	</div>

  <!-- /.Box n°6 ligne par rapport au modes de conso-->
    <div class="container">
    <div class="box">
      <hr>
        <h2 class="intro-text text-center">Une grosse cuite ?
          <strong>Je suis trop vieux pour ça !</strong>
        </h2>
      <hr>
      <center>
        <div>
          <iframe frameborder=0 width="1000" height="600" viewBox="0 0 1000 600" class="data_wrapper-chart" src="charts/modeConso.html" ></iframe>
        </div>
      </center>
    <div class="commentaires" align="middle">
      <br>
      <p><strong> Ces jeunes qui boivent trop. </strong><p>
      <p> <p>
      Les jeunes sont ceux qui se prennent le plus de cuites. Mais si on est moins souvent ivre en vieillissant, on boit en revanche beaucoup plus fréquemment...
      <p> Ce qui est surprenant c'est l'âge où s'inverse le rapport de force : 47 ans c'est vieux quand même, vous ne trouvez pas ?
      </div>

        </div>
  </div>

  <!-- /.Box n°5 bar chart conso alcool -->
    <div class="container">
    <div class="box">
      <hr>
        <h2 class="intro-text text-center">Bière :
          <strong>Européens champions du monde ?</strong>
        </h2>
      <hr>
      <center>
        <div>
          <iframe frameborder=0 width="1000" height="600" viewBox="0 0 1000 600" class="data_wrapper-chart" src="charts/BeerConsumption.html" ></iframe>
        </div>
      </center>

            <div class="commentaires" align="middle">
      <br>
      <p> <p>
      Au palmarès des plus gros consommateurs de bières il ne serait pas étonnant de retrouver nos voisins allemands, anglais ou irlandais.
      <p>Et pourtant la réalité est tout autre, la <strong>Namibie sort vainqueur par KO avec 7.16 litres d'alcool pur </strong> de bière consommés annuellement par habitant en 2012.
      <p> Sachant qu'1L de bière est environ égal à 0.05L d'alcool pur, cela correspond à environ 140 litres de bière bus tous les ans par chaque namibien, impressionant n'est-ce pas ?
      <p> En comparaison nous les français sommes à 44 litres, petits joueurs !
      <p>Les européens les mieux classés sont la République Tchèque et l'Allemagne. Aucune trace des anglais dans le top 20.

      </div>
        </div>
  </div>

  <!-- /.Box n°0 -->
    <!-- /.Scatter plot Jolie -->
  <div class="container">
    <div class="box">
      <hr>
      <div class="commentaires">
        <h2 class="intro-text text-center"> Bière :<strong> La plus bue est... ? Chinoise </strong>
        </h2>
        <hr>
        <div class="commentaires" align="middle">
        <p> Les plus gros buveurs de bière au monde sont les namibiens. Pourtant la bière la plus bue dans le monde s’appelle Snow et <strong>est chinoise.</strong>
        <p>Bon, on vous l’accorde, ils ont l’avantage d’être plus nombreux, mais cela reste tout de même assez surprenant.
        <p>Comme quoi la taille ça joue en fin de compte...
        </div>
        <br>
        <center>
          <img  align="middle" src="img/Bieresnow.png" width ="440px" height="380px" >
          </center>
      </div>

        </div>
  </div>


	<!-- /.Box n°0 -->
		<!-- /.Scatter plot Jolie -->
	<div class="container">
		<div class="box">
			<hr>
			<h2 class="intro-text text-center"> Bière :
			<strong> Le recordman est ... ? Surement un amateur de foot </strong>
			</h2>
			<hr>

			<center>
			<img  align="middle" src="img/ministre.jpg">
			</center>

			<br>

			<div class="commentaires" align="middle">
				<br>
				<p> Détrompez-vous ! <strong> Le Premier ministre australien </strong> recordman de descente de bière !
				<p>Bob Hawke, homme politique australien, leader du Parti travailliste, 23ème Premier Ministre
				de l’Australie (1983-1991) a détenu le record mondial de descente de bière. <p>
				<p>En effet, il a bu deux pintes et demie soit <strong> 1,4 litre de bière en seulement 11 secondes.</strong>
			</div>
        </div>
	</div>





  <!-- Conclusion -->
  <div class="container">
    <div class="box">
      <hr>
       <h2 class="intro-text text-center">
         <strong>Un dernier mot avant l'apéro :</strong>
       </h2>
     <hr>
      <div class="commentaires" align="middle">
      <p><strong> Cet article n'avait pas pour but de révolutionner votre vision de l'alcool.</strong>
      <p>Le but était de vous amuser l'espace d'une minute, en espérant que cela ait esquissé un sourire sur votre visage !
      </div>
        </div>
  </div>



	<!-- Footer -->
		<!--<footer> -->
			<div class="container">
				<div class="box">
					<div class="row">
						<section class="4u 6u(medium) 12u$(small)">
							<br>
							<br>
							<br>
							<p><a href="http://www.ensae.fr/"><center><img src="img/ensae.png" width ="240px" height="200px" alt=""  /></center></a></p>
						</section>

						<section class="4u 6u$(medium) 12u$(small)">
							<p><strong>QUI SOMMES-NOUS ?</strong><br><br>
							Etudiants en mastère spécialisé en Data Science à l'ENSAE ParisTech, Charline Fraioli, Kévin Martel et Louis Millot ont réalisé cette étude.<br><br><br><br>

							<strong>SOURCES</a></strong><br>
							<p><a href="http://apps.who.int/gho/data/node.main.GISAH?lang=en">WHO</a></p>
							<p><a href="http://inpes.santepubliquefrance.fr/">INPES</a></p>
							<p><a href="http://thelancet.com/journals/lancet/article/PIIS0140-6736(10)61462-6/abstract">Commission scientifique indépendante sur les drogues (ISCD)</a></p>
							</p>
						</section>
						<section class="4u$ 12u$(medium) 12u$(small)">
							<p><strong>NOUS CONTACTER</strong><br><br>
							<a href="mailto:framartilloli@gmail.com">lalcoolhalteauxprejuges@gmail.com</a></p>
						</section>
					</div>
				</div>
			</div>
		<!--</footer> -->



    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>


	    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');


    ga('create', 'UA-51487512-1', 'metricsgraphicsjs.org');
    ga('send', 'pageview');
    </script>
	<script src='js/main.js'></script>
  <script>
  MG._hooks = {};

  var color_range = (theme === 'light') ? null : ['white','yellow'];

d3.json('Espviealcool.json', function(data) {
    MG.data_graphic({
        title: "",
        description: "Scarray of colors to color_range, as we've done in this example for the dark theme.",
        data: data,

		animate_on_load: true,
        chart_type: 'point',
        width: 1000,
        height: 600,
        right: 10,

        target: '#scatter-size-and-color',

        x_accessor: "Proportion de buveurs",
        y_accessor: 'Espérance de vie',
		color_accessor:'Pays',
		size_accessor:'Size',

		least_squares: true,

        color_range: color_range,
		color_type:'category',
		color_domain: ['Europe', 'America', 'Asia','Africa','Middle East','Oceanie'],
        color_range: ['black', 'gray', 'pink','Green','purple','blue'],

        x_rug: true,
        y_rug: true,
		x_label: '% de buveurs dans la population',
		y_label: 'Espérance de vie (en années)',


		y_extended_ticks: true,
		least_squares: true,
		mouseover: function(d, i) { console.log(d,i); }



    });
});

			var color_range = (theme === 'dark') ? null : ['white','yellow'];

d3.json('muslimalcool.json', function(data2) {
    MG.data_graphic({
        title: "",
        description: "Scatterplots have x_accessor, y_accessor, size_accessor, and color_accessor. For the last two you can also provide domain and range functions, to make it easy to change the color ranges. Colors default to red and blue, but can be overridden by passing an array of colors to color_range, as we've done in this example for the dark theme.",
        data: data2,

        chart_type: 'point',
        width: 1000,
        height: 600,
        right: 10,

        target: '#scatter2-size-and-color',

        x_accessor: "Proportion de buveurs",
        y_accessor: 'Proportion de musulmans',
        color_accessor:'Pays',
		    size_accessor:'Size',


    color_range: color_range,
    color_type:'category',
    color_domain: ['Europe', 'America', 'Asia','Africa','Middle East','Oceanie'],
    color_range: ['black', 'gray', 'pink','Green','purple','blue'],


        x_rug: true,
        y_rug: true,
		x_label: '% de buveurs dans la population',
		y_label: '% de musulmans estimé dans le pays',

		mouseover: function(d, i) { console.log(d,i); }



    });
});
</script>

<script>

var width = 960,
    height = 500,
    radius = 80,
    x = Math.sin(2 * Math.PI / 3),
    y = Math.cos(2 * Math.PI / 3);

var offset = 0,
    speed = 4,
    start = Date.now();

var svg = d3.select("svg#gears")
    .attr("width", width)
    .attr("height", height)
  .append("g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")scale(.55)")
  .append("g");

var frame = svg.append("g")
    .datum({radius: Infinity});

frame.append("g")
    .attr("class", "annulus")
    .datum({teeth: 80, radius: -radius * 5, annulus: true})
  .append("path")
    .attr("d", gear);

frame.append("g")
    .attr("class", "sun")
    .datum({teeth: 16, radius: radius})
  .append("path")
    .attr("d", gear);

frame.append("g")
    .attr("class", "planet")
    .attr("transform", "translate(0,-" + radius * 3 + ")")
    .datum({teeth: 32, radius: -radius * 2})
  .append("path")
    .attr("d", gear);

frame.append("g")
    .attr("class", "planet")
    .attr("transform", "translate(" + -radius * 3 * x + "," + -radius * 3 * y + ")")
    .datum({teeth: 32, radius: -radius * 2})
  .append("path")
    .attr("d", gear);

frame.append("g")
    .attr("class", "planet")
    .attr("transform", "translate(" + radius * 3 * x + "," + -radius * 3 * y + ")")
    .datum({teeth: 32, radius: -radius * 2})
  .append("path")
    .attr("d", gear);

d3.selectAll("input[name=reference]")
  .data([radius * 5, Infinity, -radius])
    .on("change", function(radius1) {
      var radius0 = frame.datum().radius, angle = (Date.now() - start) * speed;
      frame.datum({radius: radius1});
      svg.attr("transform", "rotate(" + (offset += angle / radius0 - angle / radius1) + ")");
    });

d3.selectAll("input[name=speed]")
    .on("change", function() { speed = +this.value; });

function gear(d) {
  var n = d.teeth,
      r2 = Math.abs(d.radius),
      r0 = r2 - 8,
      r1 = r2 + 8,
      r3 = d.annulus ? (r3 = r0, r0 = r1, r1 = r3, r2 + 20) : 20,
      da = Math.PI / n,
      a0 = -Math.PI / 2 + (d.annulus ? Math.PI / n : 0),
      i = -1,
      path = ["M", r0 * Math.cos(a0), ",", r0 * Math.sin(a0)];
  while (++i < n) path.push(
      "A", r0, ",", r0, " 0 0,1 ", r0 * Math.cos(a0 += da), ",", r0 * Math.sin(a0),
      "L", r2 * Math.cos(a0), ",", r2 * Math.sin(a0),
      "L", r1 * Math.cos(a0 += da / 3), ",", r1 * Math.sin(a0),
      "A", r1, ",", r1, " 0 0,1 ", r1 * Math.cos(a0 += da / 3), ",", r1 * Math.sin(a0),
      "L", r2 * Math.cos(a0 += da / 3), ",", r2 * Math.sin(a0),
      "L", r0 * Math.cos(a0), ",", r0 * Math.sin(a0));
  path.push("M0,", -r3, "A", r3, ",", r3, " 0 0,0 0,", r3, "A", r3, ",", r3, " 0 0,0 0,", -r3, "Z");
  return path.join("");
}

d3.timer(function() {
  var angle = (Date.now() - start) * speed,
      transform = function(d) { return "rotate(" + angle / d.radius + ")"; };
  frame.selectAll("path").attr("transform", transform);
  frame.attr("transform", transform); // frame of reference
});







var margin = {top: 20, right: 20, bottom: 30, left: 40},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

var x = d3.scale.linear()
    .range([0, width]);

var y = d3.scale.linear()
    .range([height, 0]);

var color = d3.scale.category10();

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom");

var yAxis = d3.svg.axis()
    .scale(y)
    .orient("left");

var svg = d3.select("svg#gears2")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

d3.tsv("data.tsv", function(error, data) {
  if (error) throw error;

  data.forEach(function(d) {
    d.sepalLength = +d.sepalLength;
    d.sepalWidth = +d.sepalWidth;
  });

  x.domain(d3.extent(data, function(d) { return d.sepalWidth; })).nice();
  y.domain(d3.extent(data, function(d) { return d.sepalLength; })).nice();

  svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
    .append("text")
      .attr("class", "label")
      .attr("x", width)
      .attr("y", -6)
      .style("text-anchor", "end")
      .text("Sepal Width (cm)");

  svg.append("g")
      .attr("class", "y axis")
      .call(yAxis)
    .append("text")
      .attr("class", "label")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Sepal Length (cm)")

  svg.selectAll(".dot")
      .data(data)
    .enter().append("circle")
      .attr("class", "dot")
      .attr("r", 3.5)
      .attr("cx", function(d) { return x(d.sepalWidth); })
      .attr("cy", function(d) { return y(d.sepalLength); })
      .style("fill", function(d) { return color(d.species); });

  var legend = svg.selectAll(".legend")
      .data(color.domain())
    .enter().append("g")
      .attr("class", "legend")
      .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

  legend.append("rect")
      .attr("x", width - 18)
      .attr("width", 18)
      .attr("height", 18)
      .style("fill", color);

  legend.append("text")
      .attr("x", width - 24)
      .attr("y", 9)
      .attr("dy", ".35em")
      .style("text-anchor", "end")
      .text(function(d) { return d; });

});







</script>

</body>

</html>

                    <hr>
